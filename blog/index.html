<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Santiagos Blog</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Pixelify+Sans&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="../assets/favicon.ico" />

  <link rel="stylesheet" href="../styles.css" />
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <div class="frame" id="top">
    <header class="topbar">
      <a class="brand" href="../index.html" aria-label="Home">
        <span class="brand-box">SC</span>
      </a>

      <button class="menu-btn" id="menuBtn" type="button" aria-expanded="false" aria-controls="navPanel">
        MENU
      </button>

      <div class="nav-panel" id="navPanel">
        <div class="top-actions">
          <a class="nav-link" href="../index.html">HOME</a>
          <a class="nav-link is-active" href="index.html">BLOG</a>
          <button class="icon-btn" id="themeBtn" type="button" aria-label="Toggle theme">
            <svg id="themeIcon" width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79Z"
                    fill="none" stroke="currentColor" stroke-width="2"/>
            </svg>
          </button>
        </div>
      </div>
    </header>

    <main id="main">
      <section class="section">
        <header class="section-head">
          <h1 class="section-title">BLOG.</h1>
        </header>

        <div class="connect-box" style="margin-top: 28px;">
          <p class="connect-text">Short posts. No fluff. Mostly learning notes and opinions.</p>
          <a class="btn" href="../index.html">BACK HOME</a>
        </div>

        <div class="blog-list" id="postList" aria-label="Blog posts"></div>
      </section>

      <footer class="footer">
        <p class="footer-text">MADE WITH A BUNCH OF CAFFEINE AND ILLUSION TO BECOME A GREAT DEVELOPER — © <span id="year"></span> SANTIAGO</p>
        <button class="to-top" type="button" id="toTop" aria-label="Back to top">
          <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 19V7" fill="none" stroke="currentColor" stroke-width="2"/>
            <path d="M7 11l5-5 5 5" fill="none" stroke="currentColor" stroke-width="2"/>
          </svg>
        </button>
      </footer>
    </main>
  </div>

  <script src="../main.js"></script>
  <script src="posts.js"></script>
  <script>
    // Render posts from window.BLOG_POSTS
    const list = document.getElementById("postList");
    const posts = (window.BLOG_POSTS || []).slice().sort((a,b) => b.date.localeCompare(a.date));

    function tagHTML(tag){
      return '<span class="tag">' + tag + '</span>';
    }

    list.innerHTML = posts.map(p => {
      const tags = (p.tags || []).map(tagHTML).join("");
      return `
        <article class="post-card">
          <div class="post-meta">
            <span>${p.date}</span>
            <span>${p.readTime || ""}</span>
          </div>

          <h2 class="post-title">
            <a href="posts/${p.slug}.html">${p.title}</a>
          </h2>

          <p class="post-excerpt">${p.excerpt || ""}</p>

          <div class="post-tags">${tags}</div>
        </article>
      `;
    }).join("") || "<p class='post-excerpt'>No posts yet. Add one in <code>blog/posts/</code> and update <code>blog/posts.js</code>.</p>";
  </script>
</body>
</html>
